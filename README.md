# TRYV! 📅

**週間スケジュール管理システム with Discord連携**

Material Design 3を採用した、シンプルで美しい週間スケジュール管理ツールです。Google Apps ScriptとGoogle Sheetsをバックエンドとして使用し、Discordへの自動投稿機能を備えています。  

## ✨ 特徴

- 🎨 **Material Design 3** - モダンで洗練されたUI
- 📱 **レスポンシブデザイン** - どのデバイスでも快適に使用可能
- 🖱️ **ドラッグ&ドロップ** - イベントを簡単に移動
- ⏰ **柔軟な時間設定** - 任意の時刻（xx:xx形式）でイベントを作成
- 🎨 **カラーカスタマイズ** - イベントごとに色を設定可能
- 📤 **Discord連携** - スケジュールを画像またはテキストで自動投稿
- 🔄 **週次自動投稿** - トリガー設定で毎週自動的にDiscordへ投稿
- 💾 **Google Sheets連携** - データはGoogle Sheetsに自動保存

## 🚀 セットアップ

### 1. Google Apps Scriptプロジェクトの作成

1. [Google Apps Script](https://script.google.com/)にアクセス
2. 「新しいプロジェクト」をクリック
3. プロジェクト名を「TRYV」に変更

### 2. ファイルのアップロード

1. `Code.gs`の内容をコピーして、デフォルトの`Code.gs`に貼り付け
2. 「+」ボタンから「HTML」を選択し、`index`という名前で作成
3. `index.html`の内容をコピーして貼り付け

### 3. Webアプリとしてデプロイ

1. 右上の「デプロイ」→「新しいデプロイ」をクリック
2. 「種類の選択」で「ウェブアプリ」を選択
3. 以下のように設定:
   - **説明**: TRYV Weekly Schedule
   - **次のユーザーとして実行**: 自分
   - **アクセスできるユーザー**: 全員
4. 「デプロイ」をクリック
5. 表示されたURLをコピー（これがアプリのURL）

### 4. 初回アクセス

1. デプロイしたURLにアクセス
2. 権限の承認を求められたら、承認する
3. スケジュール画面が表示されます

## 🎯 使い方

### イベントの追加

1. 右上の「✨ イベント追加」ボタンをクリック
2. 必要な情報を入力:
   - **タイトル**: イベント名
   - **担当者**: 担当者名
   - **曜日**: 月〜金から選択
   - **開始/終了時刻**: 任意の時刻を入力
   - **カラー**: イベントの色を選択
3. 「保存」をクリック

### イベントの編集・削除

- イベントカードをクリックすると編集モーダルが開きます
- 「削除」ボタンで削除できます

### ドラッグ&ドロップ

- イベントカードをドラッグして、別の曜日や時間帯にドロップすると移動できます

## 📤 Discord連携

### 手動投稿（画像）

1. 右上の「⚙️ 設定」をクリック
2. Discord Webhook URLを入力
3. 投稿メッセージを設定
4. 「保存」をクリック
5. 「📤 投稿」ボタンでスケジュールを画像として投稿

### 自動投稿（週次）

毎週自動的にスケジュールをDiscordに投稿できます。

#### トリガーの設定方法

1. GASエディタで左メニューの「トリガー」（時計アイコン）をクリック
2. 「トリガーを追加」をクリック
3. 以下のように設定:
   - **実行する関数**: `weeklyPostToDiscord`
   - **イベントのソース**: 時間主導型
   - **時間ベースのトリガー**: 週タイマー
   - **曜日**: 月曜日（お好みで変更可能）
   - **時刻**: 午前9時～10時（お好みで変更可能）
4. 「保存」をクリック

#### テスト方法

GASエディタで`testWeeklyPost`関数を実行すると、すぐにDiscordに投稿されます。

## 🎨 カラースキーム

Material Design 3の標準カラーパレットを使用:

- **プライマリ**: `#6750A4` (パープル)
- **背景**: `#FEF7FF` (ライトパープル)
- **サーフェス**: `#FFFFFF` (白)
- **アクセント**: `#EADDFF` (ライトパープル)

イベントカラー:
- パープル `#6750A4`
- ティール `#006A6A`
- ローズ `#7D5260`
- マゼンタ `#984061`
- グリーン `#006E26`
- オレンジ `#8B5000`
- シアン `#006874`

## 🛠️ 技術スタック

### フロントエンド
- **HTML5 / CSS3 / JavaScript (ES6+)**
- **Material Design 3** - デザインシステム
- **Google Fonts (Roboto)** - タイポグラフィ
- **html2canvas** - スクリーンショット生成

### バックエンド
- **Google Apps Script** - サーバーレスバックエンド
- **Google Sheets** - データストレージ
- **PropertiesService** - 設定保存

### 連携
- **Discord Webhooks** - Discord投稿

## 📁 ファイル構成

```
TRYV/
├── Code.gs           # GASバックエンドコード
├── index.html        # フロントエンドUI
├── README.md         # このファイル
└── appsscript.json   # GAS設定ファイル（自動生成）
```

## 🔧 カスタマイズ

### 時間範囲の変更

`index.html`の`generateTimeSlots()`関数を編集:

```javascript
function generateTimeSlots() {
  const slots = [];
  for (let h = 7; h <= 22; h++) {  // 7:00〜22:00 → 変更可能
    slots.push(`${h.toString().padStart(2, '0')}:00`);
  }
  return slots;
}
```

### セルの高さ変更

`index.html`のCSS:

```css
.time-slot {
  height: 80px;  /* セルの高さ */
}

.time-cell {
  height: 80px;  /* セルの高さ */
}
```

JavaScriptの`renderEvents()`関数も同じ値に変更:

```javascript
card.style.top = `${startCellIndex * 80}px`;  // 80を変更
card.style.height = `${cellCount * 80 - 4}px`;  // 80を変更
```

## 📝 ライセンス

MIT License

## 👤 作者

**moti**

## 🤝 コントリビューション

プルリクエストを歓迎します！大きな変更の場合は、まずissueを開いて変更内容を議論してください。

## 🐛 バグ報告

バグを見つけた場合は、[Issues](https://github.com/yourusername/tryv/issues)で報告してください。

## 📮 お問い合わせ

質問や提案がある場合は、Issuesまたはプルリクエストでお知らせください。

---

**TRYV!** - シンプルで美しい週間スケジュール管理 ✨

